baseUrl: http://localhost:8080/eqdb/v0/
sheets:
# Descriptors
- run: []

# Categories
- run:
  - route:       category/create
    method:      POST
    request:
      if:hasParent:parentId: column:Parent ID
    response:
      id:        column:ID
      path:      column:[]Parents

# Functions
- extensions:
  - eqlib:
      idColumn:           ID
      aliasColumn:        Testing only
  run:
  - route:                function/create
    method:               POST
    request:
      categoryId:         column:CID
      argumentCount:      column:Arguments
      latexTemplate:      column:LaTeX template
      generic:            column:Generic
      if:Op:asOperator:
        precedenceLevel:  column:Precedence level
        evaluationType:   column:Evaluation type
    response:
      id:                 column:ID
      categoryId:         column:CID
      argumentCount:      column:Arguments
      latexTemplate:      column:LaTeX template
      generic:            column:Generic

# Definitions
- run:
  - route:                definition/create
    method:               POST
    request:
      categoryId:         column:CID
      left:               eqlib:codec:column:Equation left
      right:              eqlib:codec:column:Equation right
    response:
      id:                 column:ID
      ruleId:             column:RID

  - route:                expression/{id}/retrieveTree
    method:               GET
    url:
      id:                 eqlib:index:column:Equation left
    response:
      id:                 eqlib:index:column:Equation left
      rawData:            eqlib:codec:column:Equation left
    ignore:
    - reference

  - route:                expression/{id}/retrieveTree
    method:               GET
    url:
      id:                 eqlib:index:column:Equation right
    response:
      id:                 eqlib:index:column:Equation right
      rawData:            eqlib:codec:column:Equation right
    ignore:
    - reference

# Lineages (1)
- run:
  - skipIf:               isEmpty:column:Initial
    route:                lineage/create
    method:               POST
    request:
      firstExpression:    eqlib:codec:column:Initial
    response:
      id:                 column:L
      treeId:             column:T
      branchIndex:        0
      initialCategoryId:  column:C
      firstExpressionId:  eqlib:index:column:Initial

#   - skipIf:               isEmpty:column:Previous
#     route:                rule/resolve
#     method:               POST
#     request:
#       from:               eqlib:codec:column:Previous
#       to:                 eqlib:codec:column:Append
#     response:
#       differences:
#       - type:             definition
#         left:             eqlib:codec:column:Rule left
#         right:            eqlib:codec:column:Rule right
#         definitionId:     column:Definition ID
      
#   - skipIf:               isEmpty:column:Previous
#     route:                lineage/{id}/append
#     method:               POST
#     url:
#       id:                 column:L
#     request:
#       ruleId:             column:Definition ID
#     response:
#       id:                 column:ID
#       lineageId:          column:L
#       lineageIndex:       column:Index
#       ruleId:             column:Definition ID
#       expressionId:       eqlib:index:column:Append

# # Proofs
# - run:
#     route:                rule/resolve
#     method:               POST
#     request:
#       from:               eqlib:codec:column:Proof left
#       to:                 eqlib:codec:column:Proof right
#     response:
#       differences:
#       - type:             proof
#         left:             eqlib:codec:column:Proof left
#         right:            eqlib:codec:column:Proof right
#         proof:            []
